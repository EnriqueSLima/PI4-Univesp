<!-- data_visual/templates/visualization/dashboard.html -->
{% extends 'index.html' %}

{% load static %} 

{% block 'title' %} 
    <title>{{ title }}</title>
{% endblock 'title' %}

{% block 'head' %}
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"/>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0/css/all.min.css">

    <!-- CSS proprio -->
    <link rel="stylesheet" href="{% static 'data_visual/css/style.css' %}">
{% endblock 'head' %}

{% block 'sidebar' %}
    <!-- Sidebar com Gráficos -->
    <div class="sidebar">
        <div class="dashboard-header">
            <img class="logo" src="{% static 'data_visual/images/logo03.jpeg' %}" alt="Logo">
            <h1>Monitore a Qualidade do Ar - São Paulo</h1>
        </div>

        <!-- Seletor de Estação -->
        <div class="station-selector">
            <label for="station-select"><i class="fas fa-map-marker-alt"></i> Selecionar Estação:</label>
            <select id="station-select">
                <option value="">-- Selecione uma estação --</option>
                <option value="1">Santana</option>
                <option value="2">Santo Amaro</option>
                <option value="3">Pq. Dom Pedro II</option>
                <option value="4">Congonhas</option>
                <option value="5">Ibirapuera</option>
                <option value="6">Lapa</option>
                <option value="7">Mooca</option>
                <option value="8">Cerqueira César</option>
                <option value="9">Cambuci</option>
                <option value="10">Centro</option>
                <option value="11">Cid.Universitária-USP-Ipen</option>
                <option value="12">N.Senhora do Ó</option>
                <option value="13">Itaquera</option>
                <option value="14">Grajaú-Parelheiros</option>
                <option value="15">Pinheiros</option>
                <option value="16">S Miguel Paulista</option>
                <option value="17">Interlagos</option>
                <option value="18">Itaim Paulista</option>
                <option value="19">Capão Redondo</option>
                <option value="20">Marg.Tietê-Pte Remédios</option>
                <option value="21">Pico do Jaraguá</option>
                <option value="22">Perus</option>
            </select>
        </div>

        <!-- Indicadores Atuais -->
        
        <div class="current-indicators">
            <h3><i class="fas fa-chart-line"></i> Indicadores Atuais </h3>
            <div class='indicadores'>
                <div>
                    TEXTO
                </div>

                <div class="indicators-grid">
                    <div class="indicator-card aqi-indicator">
                        <div class="indicator-label">Qualidade do Ar</div>
                        <div class="indicator-value" id="current-aqi">--</div>
                        <div class="indicator-description" id="aqi-description">--</div>
                    </div>
                    <div class="indicator-card">
                        <div class="indicator-label">PM2.5</div>
                        <div class="indicator-value" id="current-pm25">--</div>
                        <div class="indicator-unit">µg/m³</div>
                    </div>
                    <div class="indicator-card">
                        <div class="indicator-label">PM10</div>
                        <div class="indicator-value" id="current-pm10">--</div>
                        <div class="indicator-unit">µg/m³</div>
                    </div>
                    <div class="indicator-card">
                        <div class="indicator-label">NO₂</div>
                        <div class="indicator-value" id="current-no2">--</div>
                        <div class="indicator-unit">µg/m³</div>
                    </div>
                    <div class="indicator-card">
                        <div class="indicator-label">O³</div>
                        <div class="indicator-value" id="current-o3">--</div>
                        <div class="indicator-unit">µg/m³</div>
                    </div>
                    <div class="indicator-card">
                        <div class="indicator-label">SO²</div>
                        <div class="indicator-value" id="current-so2">--</div>
                        <div class="indicator-unit">µg/m³</div>
                    </div>
                    <div class="indicator-card">
                        <div class="indicator-label">CO</div>
                        <div class="indicator-value" id="current-co">--</div>
                        <div class="indicator-unit">µg/m³</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Gráfico das Últimas Horas -->
        <div class="chart-card">
            <h3><i class="fas fa-chart-line"></i> Dados do dia</h3>
            <div class="chart-container">
                <canvas id="particulas-24h"></canvas>
            </div>
            <div class="chart-container">
                <canvas id="gases-24h"></canvas>
            </div>
            <div class="chart-container">
                <canvas id="gasesb-24h"></canvas>
            </div>
        </div>

        <!-- Gráfico dos Últimos 7 Dias -->
        <div class="chart-card">
            <h3><i class="fas fa-chart-bar"></i> Dados da Semana</h3>
            <div class="chart-container">
                <canvas id="grafico-7dias"></canvas>
            </div>
        </div>
    </div>
{% endblock 'sidebar' %}

{% block 'map' %}
    <!-- Container do Mapa -->
    <div class="map-container">
        <div class="map">
            {{ map_html|safe }}
        </div>
    </div>
{% endblock 'map' %}

{% block 'script' %}
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="{% static 'data_visual/js/charts.js' %}"></script>
    <script src="{% static 'data_visual/js/map.js' %}"></script>
{% endblock 'script' %}